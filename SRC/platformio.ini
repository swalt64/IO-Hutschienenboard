; PlatformIO Configuration for IO-Hutschienenboard
; ESP32-S3-WROOM-1 (DUBEUYEW), 16MB Flash, 8MB PSRAM

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Flash and memory configuration matching the DUBEUYEW board (16MB Flash, 8MB PSRAM)
board_build.flash_size = 16MB
board_build.partitions = default_16MB.csv
board_build.arduino.memory_type = qio_opi
board_upload.flash_size = 16MB

; PSRAM enable
build_flags =
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DSIMULATE_HW=1

; Serial monitor (COM port = CH343 UART)
monitor_speed = 115200
monitor_port = COM3

; LittleFS for serving web pages from flash
board_build.filesystem = littlefs

; Upload via COM port (CH343)
upload_speed = 921600

; Libraries - use explicit owner to avoid conflicts
lib_deps =
    mathieucarbou/ESP Async WebServer @ ^3.0.6
    bblanchon/ArduinoJson @ ^7.4.2
    adafruit/Adafruit MCP23017 Arduino Library @ ^2.3.2
    freenove/Freenove WS2812 Lib for ESP32 @ ^1.0.6

; Exclude incompatible library
lib_ignore = AsyncTCP_RP2040W, ESPAsyncTCP-esphome
